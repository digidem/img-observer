!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ImgObserver=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var h="function"==typeof require&&require;if(!u&&h)return h(o,!0);if(i)return i(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return s(n?n:e)},d,d.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(e,t,n){function r(e){return e.__imgobserverid__||(e.__imgobserverid__=++h+"")}function s(e){if(!(this instanceof s))return new s(e);if(this._root=e||document.body,!(this._root instanceof window.Node))throw new Error("root must be a Node https://developer.mozilla.org/en-US/docs/Web/API/Node");var t="IMG",n=this,r=window.MutationObserver;r&&(this._observer=new r(function(e){var r=a(e,t);r.addedNodes.length&&n.emit("added",r.addedNodes),r.removedNodes.length&&n.emit("removed",r.removedNodes),r.changedNodes.length&&n.emit("changed",r.changedNodes)}),this.connect(this._root),o.call(this))}var i=e("inherits"),o=e("events"),u={childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["src"]},h=0;i(s,o),s.prototype.disconnect=function(){this._observer.disconnect()},s.prototype.connect=function(e){e=e||this._root,this._observer.observe(e,u)};var a=s._processMutations=function(e,t){var n={added:{},removed:{},changed:{}};e.forEach(function(e){return"attributes"===e.type?void(e.oldValue!==e.target.src&&(n.changed[r(e.target)]=e.target)):(d(e.addedNodes,t).forEach(function(e){n.added[r(e)]=e,delete n.removed[r(e)]}),void d(e.removedNodes,t).forEach(function(e){n.removed[r(e)]=e,delete n.added[r(e)],delete n.changed[r(e)]}))});var s=Object.keys(n.changed).map(function(e){return n.changed[e]}),i=Object.keys(n.added).map(function(e){return n.added[e]}),o=Object.keys(n.removed).map(function(e){return n.removed[e]});return{addedNodes:i,changedNodes:s,removedNodes:o}},d=s._filterNodeList=function(e,t){for(var n=[],r=0;r<e.length;++r)if(e[r].nodeType===window.Node.ELEMENT_NODE&&(e[r].tagName!==t||(n.push(e[r]),e[r].children.length)))for(var s=e[r].getElementsByTagName(t),i=0;i<s.length;++i)n.push(s[i]);return n};t.exports=s},{events:2,inherits:3}],2:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,h,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],u(n))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(o(n))for(i=Array.prototype.slice.call(arguments,1),a=n.slice(),r=a.length,h=0;r>h;h++)a[h].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!s(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!s(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,u;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||s(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(u=i;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],s(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],3:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}]},{},[1])(1)});